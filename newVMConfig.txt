Assume you are on a fresh compute node with our Xen installed.

Instructions to create the FIRST CentOS vm on a compute node:

-Follow instructions in the subsection called "Compute Nodes" here:
https://github.com/armoredsoftware/doc/wiki/KU-ITTC-Armored-Computing-Development-Environment

Instructions to create a COPY of the first CentOS vm(created by above):

1)  choose a name for the new VM copy (here we'll call it "newVM").  This name will identify the VM when you type "xl list", for example.  (Note:  You can change the name after the VM is created (using "xl rename").  However, the "xl rename" command simply changes how the name is displayed in the list.  It does not modify the original .cfg or .img files.)

    WARNING:  Xen doesn't like when you reuse a name when making a vm copy.  Make sure to use a name that you have not used on a previously created VM.

2)  cd /xenImages/
    cp CentOS_65_server_PVH.img newVM_PVH.img ;
    cp centos65x86_64_run.cfg newVM.cfg

3)  edit newVM.cfg:
    -change the name field to "newVM"
    -change the first entry of the disk field to /xenImages/newVM_PVH.img

    Note:  The name of the image file does not need to match the name of the VM(or the name of the .cfg file).  It is just nice for consistency and readability.

4)  run the new VM (same way as with the original VM):
    - sudo xl create newVM.cfg -c

    username=  root
    password=  armored


5)  After the VM is booted, you may need to press Enter to view the command prompt.  Then type "ctl ]" to exit from the VM console.  Back on Dom0(compute 5), type "sudo xl list" to confirm that your new VM's name appears in the list.
