--BERLIOS TPM EMULATOR CONFIG INSTRUCTIONS-----

These instructions are for installing the emulator in a fresh environment (i.e. a newly created VM).

1)  run the script:  emulatorSetup.sh  (this installs necessary utilities, grabs the source tarball, unpacks it, and builds it).
2)  start the emulator with the command:  tpmd

If the emulator is running properly, you should see output like this:

tpmd.c:390: Info: starting TPM Emulator daemon (1.2.0.7-475)
tpmd.c:93: Info: parsing options
tpmd.c:198: Info: installing signal handlers
tpmd.c:220: Info: daemonizing process




-----LOG---------------------------------------------------------------

Previous errors encountered:


1)

End of make error output for TPM Emulator:

[ 80%] Built target mtm [ 90%] Built target tpm_crypto Linking C shared library libtddl.so [ 92%] Built target tddl [ 94%] Built target tddl_static [ 96%] Built target test_tddl [ 96%] Generating linux/tpmd_dev.ko make: *** /lib/modules/3.4.53-8.el6.centos.alt.x86_64/build: No such file or directory. Stop. make[3]: *** [all] Error 2 make[2]: *** [tpmd_dev/linux/tpmd_dev.ko] Error 2 make[1]: *** [tpmd_dev/CMakeFiles/tpmd_dev.dir/all] Error 2 make: *** [all] Error 2

    Basically, "/lib/modules/el6.centos.alt.x86_64" had broken links to build/ and source/ folders. These links pointed to /usr/src/kernels/ which was empty on compute5. compute2's kernels/ director had the correct contents: .el6.centos.alt.x86_64, so we just copied it over, and the make completed successfully.
